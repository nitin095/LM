<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <title>My first three.js app</title>
    <style>
        body {
            margin: 0;
        }

        canvas {
            width: 100%;
            height: 100%
        }
    </style>
</head>

<body>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/110/three.js"
        integrity="sha256-+5R1zw/Tcxp82QhhfAJlicTeM4LCzFxp6EvsZW3V9bE=" crossorigin="anonymous"></script>
    <script>
        // CUBE
        // var scene = new THREE.Scene();
        // var camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.5, 1000);

        // var renderer = new THREE.WebGLRenderer();
        // renderer.setSize(window.innerWidth, window.innerHeight);
        // document.body.appendChild(renderer.domElement);

        // var geometry = new THREE.BoxGeometry();
        // var material = new THREE.MeshBasicMaterial({ color: 0x00ff00 });
        // var cube = new THREE.Mesh(geometry, material);
        // scene.add(cube);

        // camera.position.z = 5;

        // function animate() {
        //     requestAnimationFrame(animate);
        //     cube.rotation.x += 0.01;
        //     cube.rotation.y += 0.01;
        //     renderer.render(scene, camera);
        // }
        // animate();


        // LINE
        // var renderer = new THREE.WebGLRenderer();
        // renderer.setSize(window.innerWidth, window.innerHeight);
        // document.body.appendChild(renderer.domElement);

        // var camera = new THREE.PerspectiveCamera(45, window.innerWidth / window.innerHeight, 1, 500);
        // camera.position.set(0, 0, 100);
        // camera.lookAt(0, 0, 0);

        // var scene = new THREE.Scene();
        // //create a blue LineBasicMaterial
        // var material = new THREE.LineBasicMaterial({ color: 0x0000ff });
        // var points = [];
        // points.push(new THREE.Vector3(- 10, 0, 0));
        // points.push(new THREE.Vector3(0, 10, 0));
        // points.push(new THREE.Vector3(10, 0, 0));

        // var geometry = new THREE.BufferGeometry().setFromPoints(points);
        // var line = new THREE.Line(geometry, material);
        // scene.add(line);
        // renderer.render(scene, camera);



        var renderer = new THREE.WebGLRenderer();
        renderer.setSize(window.innerWidth, window.innerHeight);
        document.body.appendChild(renderer.domElement);

        camera = new THREE.PerspectiveCamera(45, window.innerWidth / window.innerHeight, 1, 10000);
        camera.position.set(0, 0, 1000);
        camera.lookAt(0, 0, 0);

        var scene = new THREE.Scene();

        var MAX_POINTS = 500;

        // geometry
        var geometry = new THREE.BufferGeometry();
        // attributes
        var positions = new Float32Array(MAX_POINTS * 3); // 3 vertices per point
        geometry.setAttribute('position', new THREE.BufferAttribute(positions, 3));
        // draw range
        var drawCount = 2; // draw the first 2 points, only
        geometry.setDrawRange(0, drawCount);
        // material
        var material = new THREE.LineBasicMaterial({ color: 0xff0000 });
        // line
        var line = new THREE.Line(geometry, material);
        scene.add(line);

        var positions = line.geometry.attributes.position.array;

        var x, y, z, index;
        x = y = z = index = 0;

        for (var i = 0, l = MAX_POINTS; i < l; i++) {

            positions[index++] = x;
            positions[index++] = y;
            positions[index++] = z;

            x += (Math.random() - 0.5) * 30;
            y += (Math.random() - 0.5) * 30;
            z += (Math.random() - 0.5) * 30;

        }

        let n = 2;
        function animate() {
            requestAnimationFrame(animate);
            n++;
            line.geometry.setDrawRange(0, n);
            renderer.render(scene, camera);
        }
        animate();


    </script>
</body>

</html>